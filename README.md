# lovets18
## HMs for ML PROD course 2022
### homework1

#### Описание проекта:
Программу можно запускать для обучения, для предсказания и сразу для обучения и предсказания 
(имеется ввиду поочередно за один запуск, управляется конфигами)

Установка: pip install -r requirements.txt

Запуск программы: python -m ml_project.main configs/<config_name>.yaml

Папка configs содержит примеры конфигураций для запуска модели, в зависимости от параметров, по-разному проводится обработка данных,
спользуются разные модели машинного обучения

В конфиге model_path - путь, по которому сохранится или прочитается модель
Для запуска обучения необходимо указать путь к данным для обучения train_data, hyperparams, train_test_split, для предсказания - test_data и output_data.
При указании всех данных, сначала проведется обучение, а затем предскащание

Основной код расположен в папке ml_project

ml_project/main.py - главный файл для запуска модели (аргументом нужно указать путь к конфигу)

ml_project/predict.py - модуль для обучения

ml_project/train.py - модель для предсказания

ml_project/preprocess.py - модуль для предобработки данных

ml_project/dataclasses - содержит классы ддя пасринг конфига

ml_project/logs - для логирования

ml_project/train_constaints - сохранение mean и std для нормализации данных

output - для результаов предсказаний

models - для .pkl файлов предобученных моделей

notebooks - для jupyter ноутбуков

tests.py - файл с кодом тестирования

tests - директория с конфигами и данными для тестов



#### Критерии (указаны максимальные баллы, по каждому критерию ревьюер может поставить баллы частично):

0) В описании к пулл реквесту описаны основные "архитектурные" и тактические решения, которые сделаны в вашей работе. В общем, описание того, что именно вы сделали и для чего, чтобы вашим ревьюерам было легче понять ваш код (1 балл)

В описании проекты приведены пояснения для облегчения понимания кода (1/1)

1) В пулл-реквесте проведена самооценка, распишите по каждому пункту выполнен ли критерий или нет и на сколько баллов(частично или полностью) (1 балл)

Проведено оценивание выполнения задания (1/1)

2) Выполнено EDA, закоммитьте ноутбук в папку с ноутбуками (1 балл) Вы так же можете построить в ноутбуке прототип(если это вписывается в ваш стиль работы)
Можете использовать не ноутбук, а скрипт, который сгенерит отчет, закоммитьте и скрипт и отчет (за это + 1 балл)

Проведен анализ данных, ноутбук закоммичен в папку notebooks, скрипт формирования отчета не представлен (1/2)

3) Написана функция/класс для тренировки модели, вызов оформлен как утилита командной строки, записана в readme инструкцию по запуску (3 балла)

в файле ml_project/train.py написана функция для тренировки модели, запускается она из командонй строки на основе конфига, инструкция приведена (3/3)

4) Написана функция/класс predict (вызов оформлен как утилита командной строки), которая примет на вход артефакт/ы от обучения, тестовую выборку (без меток) и запишет предикт по заданному пути, инструкция по вызову записана в readme (3 балла)

в файле ml_project/predict.py написана функция для тренировки модели, запускается она из командонй строки на основе конфига, инструкция приведена (3/3)

5) Проект имеет модульную структуру (2 балла)

Проект разбит на модули (1.5/2)

6) Использованы логгеры (2 балла)

Процесс выполнения и ошибки логируются, метрики лоигруются, файл для логов указывается в конфиге (2/2)

7) Написаны тесты на отдельные модули и на прогон обучения и predict (3 балла)

В файле tests.py приведены тесты для прогона обучение и предсказания, а также тесты препроцессинга (одна тестирование нельзя назвать всеобъемлющим) (2.5/3)

8) Для тестов генерируются синтетические данные, приближенные к реальным (2 балла)

Для тестов реализована функция create_df в tests.py (возможно данные недостаточно реалистичны) (1.5/2)

9) Обучение модели конфигурируется с помощью конфигов в json или yaml, закоммитьте как минимум 2 корректные конфигурации, с помощью которых можно обучить модель (разные модели, стратегии split, preprocessing) (3 балла)

Файлы конфигов представлены в директории configs (2/2)

10) Используются датаклассы для сущностей из конфига, а не голые dict (2 балла)

ml_project/dataclasses - директория с классами для сущностей из конфига (2/2)

11) Напишите кастомный трансформер и протестируйте его (3 балла) 

Написан и протестирован трансформер Standartizer в ml_project/preprocessing.py, также приведены тесты для него в tests.py (3/3)

12) В проекте зафиксированы все зависимости (1 балл)

Приведен файл requirements.txt с требуемыми библиотеками (1/1)

13) Настроен CI для прогона тестов, линтера на основе github actions (3 балла).

.github.workflows - директория с CI, прогоняются тесты и линтеры (pylint, flake8) (3/3)

